<?xml version="1.0" encoding="UTF-8"?>
<xs:schema
    xmlns:suecommon="http://www.agid.gov.it/MODULI_PA/SUE/sue_common_components"
    xmlns:moduli="http://www.agid.gov.it/MODULI_PA/moduli_common_components"
    xmlns:aggregate="http://www.agid.gov.it/AgID_aggregate_components"    
    xmlns:basic="http://www.agid.gov.it/AgID_basic_components"
    xmlns:enumeration="http://www.agid.gov.it/AgID_enumeration"
    xmlns:ccts="urn:un:unece:uncefact:documentation:2"
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    
    targetNamespace="http://www.agid.gov.it/MODULI_PA/SUE/sue_common_components"
    
    elementFormDefault="unqualified" attributeFormDefault="unqualified" version="1.0.0"
    >
    
    <xs:import namespace="http://www.agid.gov.it/MODULI_PA/moduli_common_components" schemaLocation="../MODULI_common_components-1.0.0.xsd"/>
    <xs:import namespace="http://www.agid.gov.it/AgID_basic_components" schemaLocation="../../AgID_Vocabularies/AgID_basic_components-1.0.0.xsd"/>
    <xs:import namespace="http://www.agid.gov.it/AgID_aggregate_components" schemaLocation="../../AgID_Vocabularies/AgID_aggregate_components-1.0.0.xsd"/>
    <xs:import namespace="http://www.agid.gov.it/AgID_enumeration" schemaLocation="../../AgID_Vocabularies/AgID_enumeration-1.0.0.xsd"/>    
    
    <!-- Reference suapcommon:PersonaAnagraficaType -->
    <xs:complexType name="PersonaAnagraficaType">
        <xs:annotation>
            <xs:documentation>Tipo per specificare tutti i dati anagrafici di una
                persona</xs:documentation>
        </xs:annotation>
        <xs:complexContent>
            <xs:extension base="aggregate:PersonaAnagraficaNascitaType">
                <xs:sequence>
                    <xs:element name="residente" type="aggregate:IndirizzoType"/>
                    <!-- <xs:element name="cittadinanza" type="enum:NazioniAlpha3Enum" default="ITA" minOccurs="0"/> -->
                    <xs:element name="contatti" type="aggregate:ContattiType" minOccurs="0"/>
                </xs:sequence>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>
    
    <!-- ref aggregate:ImpresaAnagraficaType -->
    <xs:complexType name="DittaAnagraficaType">
        <xs:annotation>
            <xs:documentation>Dati della Ditta o Società</xs:documentation>
        </xs:annotation>
        <xs:sequence>
            <xs:element name="inQualita" type="xs:string"/>
            <xs:element name="dittaNome" type="xs:string"/>
            <xs:choice>
                <xs:element name="dittaCF" type="basic:CodiceFiscaleType"/>
                <xs:element name="dittaPiva" type="basic:PIVA"/>
            </xs:choice>
            <xs:element name="dittaIndirizzo" type="aggregate:IndirizzoType"/>
            <xs:element name="dittaRegistroImpreseCCIAA" type="aggregate:CCIAAType"/>
            <xs:element name="dittaContatti" type="aggregate:ContattiType" minOccurs="0"/>
        </xs:sequence>
    </xs:complexType>
    
    <xs:complexType name="ProfessionistaAnagraficaType">
        <xs:annotation>
            <xs:documentation>Tipo per specificare tutti i dati anagrafici di un professionista</xs:documentation>
        </xs:annotation>
        <xs:complexContent >
            <xs:extension base="aggregate:PersonaAnagraficaNascitaType">
                <xs:sequence>
                    <xs:element name="residenza" type="aggregate:IndirizzoType"/>
                    <xs:element name="studiopro" type="aggregate:IndirizzoType"/>
                    <xs:element name="ordineprofessionale" type="suecommon:OrdineProfessionaleType"/>    
                    <xs:element name="contatti" type="aggregate:ContattiType" minOccurs="0"/>
                </xs:sequence>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>
    
    <xs:complexType name="ProfessionistaAnagraficaDirettoreType">
        <xs:complexContent>
            <xs:extension base="suecommon:ProfessionistaAnagraficaType">
                <xs:attribute name="incaricaDirettoreLavori" type="xs:string"/>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>

    <xs:complexType name="OrdineProfessionaleType">
        <xs:sequence>
            <xs:element name="OrdineNome" type="xs:string"/>
            <xs:element name="OrdineCitta" type="xs:string"/>
            <xs:element name="OrdineNumero" type="xs:string"/>
        </xs:sequence>
    </xs:complexType>
    
    <xs:complexType name="TecniciIncaricatiType">
        <xs:sequence>
            <xs:element name="schedaProgettistaOpereArchitettoniche" type="suecommon:ProfessionistaAnagraficaDirettoreType"/>
            <xs:element name="schedaDirettoreOpereArchitettoniche" type="suecommon:ProfessionistaAnagraficaType"/>
            <xs:element name="schedaProgettistaOpereStrutturali" type="suecommon:ProfessionistaAnagraficaDirettoreType" />
            <xs:element name="schedaDirettoreOpereStrutturali" type="suecommon:ProfessionistaAnagraficaType"/>
            <xs:sequence>
                <xs:element name="schedaAltritecnici" type="suecommon:AltriTecniciType"/>
            </xs:sequence>
        </xs:sequence>
    </xs:complexType>
    
    <xs:complexType name="AltriTecniciType">
        <xs:sequence>
            <xs:element name="incaricatoDi" type="xs:string"/>
            <xs:element name="schedaAltroTecnico" type="suecommon:ProfessionistaAnagraficaType"/>
            <xs:element name="schedaDitta" type="suecommon:DittaAnagraficaType"/>
            <xs:element name="legaleRappresentante" type="xs:string"/>
            <xs:element name="estremiAbilitazione" type="xs:string"/>
            <xs:element name="dittaContatti" type="aggregate:ContattiType" minOccurs="0"/>
        </xs:sequence>
    </xs:complexType>
    
    <xs:complexType name="ImpreseEsecutriciType">
        <xs:sequence>
            <xs:element name="schedaDitta" type="suecommon:DittaAnagraficaType"/>
            <xs:choice minOccurs="1" maxOccurs="unbounded">
                <xs:element name="cassaEdile">
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="sede" type="xs:string"/>
                            <xs:element name="codiceMatrPos" type="xs:string"/>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Inps">
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="sede" type="xs:string"/>
                            <xs:element name="codiceImpres" type="xs:string"/>
                            <xs:element name="cocideCassa" type="xs:string"/>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Inail">
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="sede" type="xs:string"/>
                            <xs:element name="codiceImpres" type="xs:string"/>
                            <xs:element name="podAssicurativa" type="xs:string"/>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
            </xs:choice>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="DatiProgettistaType">
        <xs:complexContent>
            <xs:extension base="suecommon:ProfessionistaAnagraficaType">
                <xs:element name="ordineProfessionale" type="suecommon:OrdineProfessionaleType"/>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>

    <!-- Reference suecommon:TitoloPossessoType -->
    <xs:complexType name="TitoloPossessoType">
        <xs:sequence>
            <xs:element name="titolo" type="xs:string"/>
            <xs:element name="titolaritaIntervento" type="suecommon:TitolaritaInterventoEnum"/>
        </xs:sequence>        
    </xs:complexType>
    
    <!-- Reference suecommon:LocalizzazioneInterventoType -->
    <xs:complexType name="LocalizzazioneInterventoType">
        <xs:sequence>
            <xs:element name="indirizzo" type="aggregate:IndirizzoType"/>
            <xs:element name="contatto" type="moduli:DatiCatastaliBaseType"/>
            <xs:element name="destinazioneDUso" type="xs:string"/>
            <xs:element name="coordinate" type="xs:string"/>
        </xs:sequence>    
    </xs:complexType>

    <!-- Reference suecommon:QualificazioneInterventoBaseType -->
    <xs:complexType name="QualificazioneInterventoBaseType" abstract="true"/>
    
    <!-- Reference suecommon:RegolaritaUrbanisticaType -->
    <xs:complexType name="RegolaritaUrbanisticaBaseType" abstract="true"/>
    
    <xs:complexType name="RegolaritaUrbanisticaType">
        <xs:complexContent>
            <xs:extension base="suecommon:RegolaritaUrbanisticaBaseType">
                <xs:choice>
                    <xs:element name="pienamenteConforme" minOccurs="0" type="basic:EmptyType"/>
                    <xs:element name="inDifformita" minOccurs="0" type="suecommon:InDifformitaType"/>
                    <xs:element name="noTitoliAbilitativi" minOccurs="0"  type="basic:EmptyType"/>
                </xs:choice>        
            </xs:extension>
        </xs:complexContent>
    </xs:complexType> 
    
    <xs:complexType name="InDifformitaType">
            <xs:choice>
                <xs:element name="titoloUnico" minOccurs="0" type="aggregate:ProtocolloStandardType"/>
                <xs:element name="permessoLicenzaConc" minOccurs="0" type="aggregate:ProtocolloStandardType"/>
                <xs:element name="autorizzazioneEdilizia" minOccurs="0" type="aggregate:ProtocolloStandardType"/>
                <xs:element name="comunicazioneEdilizia" minOccurs="0" type="aggregate:ProtocolloStandardType"/>
                <xs:element name="autorizzazioneEdilizia" minOccurs="0" type="aggregate:ProtocolloStandardType"/>
                <xs:element name="condonoEdilizio" minOccurs="0" type="aggregate:ProtocolloStandardType"/>
                <xs:element name="denunciaInzioAttivita" minOccurs="0" type="aggregate:ProtocolloStandardType"/>
                <xs:element name="DIA_SCIAAlternativa" minOccurs="0" type="aggregate:ProtocolloStandardType"/>
                <xs:element name="certificazioneInizioAttivita" minOccurs="0" type="aggregate:ProtocolloStandardType"/>
                <xs:element name="comunicazioneEdiliziaLibera" minOccurs="0" type="aggregate:ProtocolloStandardType"/>
                <xs:element name="altraPraticaEdilizia" minOccurs="0" type="scia:AltraPraticaEdiliziaType"/>
                <xs:element name="primoAccatastamento" minOccurs="0" type="basic:EmptyType"/>
            </xs:choice>        
    </xs:complexType> 
    
    <xs:complexType name="AltraPraticaEdiliziaType">
        <xs:sequence>
            <xs:element name="altro" type="xs:string"/>
            <xs:element name="comunicazione" minOccurs="0" type="aggregate:ProtocolloStandardType"/>
        </xs:sequence>
    </xs:complexType> 
    
    <!-- Reference suecommon:CalcoloContributoBaseType -->
    <xs:complexType name="CalcoloContributoBaseType" abstract="true"/>
    
    <xs:complexType name="CalcoloContributoType">
        <xs:complexContent>
            <xs:extension base="suecommon:CalcoloContributoBaseType">
                <xs:sequence>
                    <xs:element name="contributo" minOccurs="0" type="suecommon:ContributoType"/>
                    <xs:element name="versamento" minOccurs="0" type="suecommon:VersamentoType"/>
                </xs:sequence>        
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>    
    
    <xs:complexType name="ContributoType">
        <xs:sequence>
            <xs:element name="titoloGratuito" minOccurs="0" type="xs:string"/>
            <xs:element name="titoloOneroso" minOccurs="0">
                <xs:complexType>
                    <xs:choice>
                        <xs:element name="calcoloSportello" minOccurs="0" type="basic:EmptyType"/>
                        <xs:element name="calcoloPreventivo" minOccurs="0" type="basic:EmptyType"/>                                                    
                    </xs:choice>
                </xs:complexType>
            </xs:element>
        </xs:sequence>
    </xs:complexType> 
    
    <xs:complexType name="VersamentoType">
        <xs:choice>
            <xs:element name="allegaAttestazione" minOccurs="0" type="basic:EmptyType"/>
            <xs:element name="trasmettePrimaInizioLavori" minOccurs="0" type="basic:EmptyType"/>      
            <xs:element name="chiedeRateizzazione" minOccurs="0" type="basic:EmptyType"/>   
            <xs:element name="corrispondeInCorso" minOccurs="0" type="basic:EmptyType"/>                   
        </xs:choice>
    </xs:complexType>

    <!-- Reference suecommon:ObblighiSaluteSicurezzaType -->
    <xs:complexType name="ObblighiSaluteSicurezzaType">
        <xs:choice>
            <xs:element name="nonRicade" minOccurs="0" type="basic:EmptyType"/>
            <xs:element name="ricade" minOccurs="0" type="suecommon:SaluteSicurezzaRicadeType"/>
            <xs:element name="ricadeConRiserva" minOccurs="0"  type="basic:EmptyType"/>
        </xs:choice>        
    </xs:complexType> 
    
    <xs:complexType name="SaluteSicurezzaRicadeType">
        <xs:sequence>
            <xs:choice>
                <xs:element name="inf200ggUomo" minOccurs="0" type="basic:EmptyType"/>
                <xs:element name="pariSup200ggUomo" minOccurs="0" type="basic:EmptyType"/>
            </xs:choice>
            <xs:choice>
                <xs:element name="noInvioNotifica" minOccurs="0" type="basic:EmptyType"/>
                <xs:element name="invioNotifica" minOccurs="0">
                    <xs:complexType>
                        <xs:simpleContent>
                            <xs:extension base="xs:string">
                                <xs:attribute type="xs:boolean" name="allegato"/>
                            </xs:extension>
                        </xs:simpleContent>
                    </xs:complexType>
                </xs:element>
            </xs:choice>
        </xs:sequence>        
    </xs:complexType>

    <!-- Reference suecommon:TipoInterventiOpereBaseType -->
    <xs:complexType name="TipoInterventiOpereBaseType" abstract="true"/>

    <!-- Reference suecommon:DatiGeometriciType -->
    <xs:complexType name="DatiGeometriciBaseType" abstract="true"/>

    <xs:complexType name="DatiGeometriciType">
        <xs:complexContent>
            <xs:extension base="suecommon:DatiGeometriciBaseType">
                <xs:sequence>
                    <xs:element name="superficieMq" minOccurs="0" type="xs:integer"/>
                    <xs:element name="volumetriaMc" minOccurs="0" type="xs:integer"/>
                    <xs:element name="numeroPianiN" minOccurs="0" type="xs:integer"/>
                </xs:sequence> 
            </xs:extension>
        </xs:complexContent>
    </xs:complexType> 
    
    <!-- Reference suecommon:StrumentazioneUrbanisticaType -->
    <xs:complexType name="StrumentazioneUrbanisticaBaseType" abstract="true"/>
    
    <xs:complexType name="StrumentazioneUrbanisticaType">
        <xs:complexContent>
            <xs:extension base="suecommon:StrumentazioneUrbanisticaBaseType">
                <xs:sequence>
                    <xs:element name="prg" minOccurs="0" type="suecommon:TabellaStrumentazioneUrbanisticaType"/>
                    <xs:element name="pianoParticolareggiato" minOccurs="0" type="suecommon:TabellaStrumentazioneUrbanisticaType"/>
                    <xs:element name="pianoRecupero" minOccurs="0" type="suecommon:TabellaStrumentazioneUrbanisticaType"/>
                    <xs:element name="pip" minOccurs="0" type="suecommon:TabellaStrumentazioneUrbanisticaType"/>
                    <xs:element name="peep" minOccurs="0" type="suecommon:TabellaStrumentazioneUrbanisticaType"/>
                    <xs:element name="altro" minOccurs="0" type="suecommon:TabellaStrumentazioneUrbanisticaType"/>
                </xs:sequence> 
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>

    <xs:complexType name="TabellaStrumentazioneUrbanisticaType">
        <xs:sequence>
            <xs:element name="specificare" minOccurs="0" type="xs:string"/>
            <xs:element name="zona" minOccurs="0" type="xs:string"/>
            <xs:element name="art" minOccurs="0" type="xs:string"/>
        </xs:sequence>       
    </xs:complexType>

    <!-- Reference suecommon:BarriereArchitettonicheType -->
    <xs:complexType name="BarriereArchitettonicheType">
        <xs:choice>
            <xs:element name="nonSoggetto" minOccurs="0" type="basic:EmptyType"/>
            <xs:element name="edificioPrivatoApertoAlPubblico" minOccurs="0" type="basic:EmptyType"/>
            <xs:element name="soggetto" minOccurs="0">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="accessibilita" type="basic:EmptyType"/>
                        <xs:element name="visibilita" type="basic:EmptyType"/>
                        <xs:element name="adattabilita" type="basic:EmptyType"/>
                    </xs:sequence>
                </xs:complexType>
            </xs:element>
            <xs:element name="soggettoNonRispetta" minOccurs="0">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="allegaRelazioneTecnica" type="basic:EmptyType"/>
                    </xs:sequence>
                </xs:complexType>                
            </xs:element>
        </xs:choice>        
    </xs:complexType> 
    
    <!-- Reference suecommon:SicurezzaImpiantiType -->
    <xs:complexType name="SicurezzaImpiantiType">
        <xs:choice>
            <xs:element name="nonComportaImpianti" minOccurs="0" type="basic:EmptyType"/>
            <xs:element name="comportaImpianti">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="elettronici" minOccurs="0" type="basic:EmptyType"/>
                        <xs:element name="climatizzazione" minOccurs="0" type="basic:EmptyType"/>                        
                        <xs:element name="gas" minOccurs="0" type="basic:EmptyType"/>    
                        <xs:element name="sollevamento" minOccurs="0" type="basic:EmptyType"/> 
                        <xs:element name="antincendio" minOccurs="0" type="basic:EmptyType"/>
                        <xs:element name="altro" minOccurs="0">
                            <xs:complexType mixed="true">
                                <xs:choice>
                                    <xs:element name="nonSoggetto" minOccurs="0" type="basic:EmptyType"/>
                                    <xs:element name="soggetto">
                                        <xs:complexType>
                                            <xs:simpleContent>
                                                <xs:extension base="xs:string">
                                                    <xs:attribute type="xs:byte" name="allega"/>
                                                </xs:extension>
                                            </xs:simpleContent>
                                        </xs:complexType>
                                    </xs:element>
                                </xs:choice>                               
                            </xs:complexType>
                        </xs:element>
                    </xs:sequence>                    
                </xs:complexType>
            </xs:element>
        </xs:choice>
    </xs:complexType>

    <!-- Reference suecommon:ConsumiEnergeticiType -->
    <xs:complexType name="ConsumiEnergeticiBaseType" abstract="true"/>
    
    <xs:complexType name="ConsumiEnergeticiType">
        <xs:complexContent>
            <xs:extension base="suecommon:ConsumiEnergeticiBaseType">
                <xs:sequence>
                    <xs:element name="nonSoggettoFontiRinnovabili" minOccurs="0" type="basic:EmptyType">
                        <xs:annotation>non è soggetto al deposito del progetto e della relazione tecnica di cui all’articolo 125 del d.P.R. n. 380/2001 e del d.lgs. n. 192/2005
                            che l’intervento, in relazione agli obblighi in materia di fonti rinnovabili</xs:annotation>
                    </xs:element>
                    <xs:element name="nonSoggettoNuovaCostruzioneRistrutturazioneRilevante" minOccurs="0" type="basic:EmptyType">
                        <xs:annotation>non è soggetto all’applicazione del d.lgs. n. 28/2011, in quanto non riguarda edifici di nuova costruzione o edifici sottoposti ad una 
                            ristrutturazione rilevante</xs:annotation>
                    </xs:element>
                    <xs:element name="soggettoApplicazione" minOccurs="0">
                        <xs:complexType>
                            <xs:sequence>
                                <xs:element name="prescrizioniInRelTecnica" minOccurs="0" type="basic:EmptyType">
                                    <xs:annotation>il rispetto delle prescrizioni in materia di utilizzo di fonti di energia rinnovabili è indicato negli elaborati progettuali e 
                                        nella relazione tecnica prevista dall’articolo 125 del d.P.R. n. 380/2001 e dal d.lgs. n. 192/2005 in materia di risparmio energetico</xs:annotation>
                                </xs:element>
                                <xs:element name="nonFattibilitaInRelTecnica" minOccurs="0" type="basic:EmptyType">
                                    <xs:annotation>l’impossibilità tecnica di ottemperare, in tutto o in parte, agli obblighi previsti, è evidenziata nella relazione tecnica 
                                        dovuta ai sensi dell’articolo 125 del d.P.R. n. 380/2001 e del d.lgs. n. 192/2005, con l’indicazione della non fattibilità di tutte le 
                                        diverse opzioni tecnologiche disponibili</xs:annotation>
                                </xs:element>
                            </xs:sequence>
                        </xs:complexType>
                    </xs:element>
                    <xs:element name="ricadeSpessoriDistanze" minOccurs="0">
                        <xs:annotation>ricade nell’articolo 14, comma 6,  del d.lgs. n. 102/2014 in merito al computo degli spessori delle murature, nonché alla deroga alle 
                            distanze minime e alle altezze massime degli edifici</xs:annotation>
                        <xs:complexType>
                            <xs:simpleContent>
                                <xs:annotation>si certifica nella relazione tecnica una riduzione minima del 20 per cento dell’indice di prestazione energetica previsto 
                                    dal d.lgs. n. 192/2005</xs:annotation>
                                <xs:extension base="xs:string">
                                    <xs:attribute type="xs:boolean" name="certificaRiduzione20"/>
                                </xs:extension>
                            </xs:simpleContent>
                        </xs:complexType>
                    </xs:element>
                    <xs:element name="ricadeDistanze" minOccurs="0">
                        <xs:annotation>ricade nell’articolo 14, comma 7, del d.lgs. n. 102/2014 in merito alle deroga alle distanze minime e alle altezze 
                            massime degli edifici</xs:annotation>
                        <xs:complexType>
                            <xs:simpleContent>
                                <xs:annotation>si certifica nella relazione tecnica una riduzione minima del 10 per cento del limite di trasmittanza previsto 
                                    dal d.lgs. n. 192/2005</xs:annotation>
                                <xs:extension base="xs:string">
                                    <xs:attribute type="xs:boolean" name="certificaRiduzione10"/>
                                </xs:extension>
                            </xs:simpleContent>
                        </xs:complexType>
                    </xs:element>
                    <xs:element name="ricadeBonusVolumetrico" minOccurs="0">
                        <xs:annotation>ricade nell’articolo 12, comma 1, del d.lgs. n. 28/2011 in merito al bonus volumetrico del 5 per cento</xs:annotation>
                        <xs:complexType>
                            <xs:simpleContent>
                                <xs:annotation>si certifica nella relazione tecnica una copertura dei consumi di calore, di elettricità e per il raffrescamento, 
                                    mediante energia prodotta da fonti rinnovabili, in misura superiore di almeno il 30 per cento rispetto ai valori minimi obbligatori 
                                    di cui all’allegato 3 del d.lgs. n. 28/2011</xs:annotation>
                                <xs:extension base="xs:string">
                                    <xs:attribute type="xs:boolean" name="certificaCopertura30"/>
                                </xs:extension>
                            </xs:simpleContent>
                        </xs:complexType>
                    </xs:element>
                    <xs:element name="soggettoDepositoProgetto" minOccurs="0">
                        <xs:annotation>è soggetto al deposito del progetto e della relazione tecnica di cui all’articolo 125 del d.P.R. n. 380/2001 e del 
                            d.lgs. n. 192/2005</xs:annotation>
                        <xs:complexType>
                            <xs:simpleContent>
                                <xs:annotation>si allega la relazione tecnica sul rispetto delle prescrizioni in materia di risparmio energetico e la 
                                    documentazione richiesta dalla legge</xs:annotation>
                                <xs:extension base="xs:string">
                                    <xs:attribute type="xs:boolean" name="allegatoRispettoPrescrizioni"/>
                                </xs:extension>
                            </xs:simpleContent>
                        </xs:complexType>
                    </xs:element>
                </xs:sequence> 
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>

    <!-- Reference suecommon:TutelaInquinamentoAcusticoType -->
    <xs:complexType name="TutelaInquinamentoAcusticoBaseType" abstract="true"/>
    
    <xs:complexType name="TutelaInquinamentoAcusticoType">
        <xs:complexContent>
            <xs:extension base="suecommon:TutelaInquinamentoAcusticoBaseType">
                <xs:sequence>
                    <xs:choice>
                        <xs:element name="nonRientraArt8" minOccurs="0" type="basic:EmptyType">
                            <xs:annotation>non rientra nell’ambito di applicazione dell’articolo 8 della l. n. 447/1995</xs:annotation>
                        </xs:element>
                        <xs:element name="rientraArt8" minOccurs="0">
                            <xs:annotation>rientra nell’ambito di applicazione dell’articolo 8 della l. n. 447/1995, integrato con i 
                                contenuti dell’articolo 4 del d.P.R. n. 227/2011</xs:annotation>
                            <xs:complexType>
                                <xs:sequence>
                                    <xs:element name="documentazioneImpattoAcustico" minOccurs="0" type="basic:EmptyType">
                                        <xs:annotation>documentazione di impatto acustico  (art. 8, commi 2 e 4, l. n. 447/1995)</xs:annotation>
                                    </xs:element>
                                    <xs:element name="previsioneClimaAcustico" minOccurs="0" type="basic:EmptyType">
                                        <xs:annotation>valutazione previsionale di clima acustico (art. 8, comma 3, l. n. 447/1995)</xs:annotation>
                                    </xs:element>
                                    <xs:element name="dichiarazioneRispettoLimiti" minOccurs="0" type="basic:EmptyType">
                                        <xs:annotation>dichiarazione sostitutiva dell’atto di notorietà, a firma del titolare, relativa al rispetto 
                                            dei limiti stabiliti dal documento di classificazione acustica del territorio comunale di riferimento 
                                            ovvero, ove questo non sia stato adottato, ai limiti individuati dal d.P.C.M. 14 novembre 1997 
                                            (art. 4, commi 1 e 2, d.P.R. n. 227/2011)</xs:annotation>
                                    </xs:element>
                                    <xs:element name="documentazioneMisureNullaOsta" minOccurs="0" type="basic:EmptyType">
                                        <xs:annotation>la documentazione di previsione di impatto acustico con l’indicazione delle misure previste 
                                            per ridurre o eliminare le emissioni sonore, nel caso in cui i valori di emissioni sono superiori a quelli 
                                            della zonizzazione acustica comunale o a quelli individuati dal d.P.C.M. 14 novembre 1997 
                                            (art. 8, comma 6, l. n. 447/1995) ai fini del rilascio del nulla-osta da parte del Comune 
                                            (art. 8, comma 6, l. n. 447/1995)</xs:annotation>
                                    </xs:element>                                    
                                </xs:sequence>
                            </xs:complexType>
                        </xs:element> 
                    </xs:choice> 
                    <xs:choice>
                        <xs:element name="nonRientra19971205" minOccurs="0" type="basic:EmptyType">
                            <xs:annotation>non rientra nell’ambito dell’applicazione  del d.P.C.M. 5 dicembre 1997</xs:annotation>
                        </xs:element>
                        <xs:element name="rientra19971205" minOccurs="0" type="basic:EmptyType">
                            <xs:annotation>rientra nell’ambito dell’applicazione  del d.P.C.M. 5 dicembre 1997</xs:annotation>
                        </xs:element> 
                    </xs:choice> 
                </xs:sequence>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>

    <!-- Reference suecommon:MaterialiRisultaType -->
    <xs:complexType name="MaterialiRisultaBaseType" abstract="true"/>
    
    <xs:complexType name="MaterialiRisultaType">
        <xs:complexContent>
            <xs:extension base="suecommon:MaterialiRisultaBaseType">
                <xs:sequence>
                    <xs:element name="nonSoggettaNormativa" minOccurs="0" type="basic:EmptyType">
                        <xs:annotation>non sono soggette alla normativa relativa ai materiali da scavo (art. 41-bis d.l. n. 69 del 2013 e 
                            art. 184-bis d.lgs. n. 152 del 2006)</xs:annotation>
                    </xs:element>
                    <xs:element name="comportaProduzione" minOccurs="0">
                        <xs:annotation>comportano la produzione di materiali da scavo considerati come sottoprodotti ai sensi dell’articolo 
                            184-bis, comma 1, del d.lgs. n. 152/2006 o dell’articolo 41-bis, comma 1, d.l. n. 69 del 2013 e del d.m. 
                            n. 161/2012</xs:annotation>
                        <xs:complexType>
                            <xs:sequence>
                                <xs:element name="volInfUgu6000" type="basic:EmptyType">
                                    <xs:annotation>le opere comportano la produzione di materiali da scavo per un volume inferiore o 
                                        uguale a 6000 mc ovvero (pur superando tale soglia) non sono soggette a VIA o AIA</xs:annotation>                                    
                                </xs:element>
                                <xs:element name="volInfUgu6000" minOccurs="0">
                                    <xs:annotation>le opere comportano la produzione di materiali da scavo per un volume superiore a 6000 mc 
                                        e sono soggette a VIA o AIA, e pertanto, ai sensi dell’art. 184-bis, comma 2-bis del d.lgs. n. 152/2006, 
                                        e del d.m. n. 161/2012  si prevede la presentazione del Piano di Utilizzo.</xs:annotation>
                                    <xs:complexType>
                                        <xs:sequence>
                                            <xs:element name="estremiProvvedimento" minOccurs="0" type="aggregate:ProtocolloStandardType">
                                                <xs:annotation>si comunicano gli estremi del provvedimento di VIA o AIA, comprensivo dell’assenso 
                                                    al Piano di Utilizzo dei materiali da scavo, rilasciato da__________________________con 
                                                    prot. _____________ in data  |__|__|__|__|__|__|__|__</xs:annotation>
                                            </xs:element>
                                        </xs:sequence>
                                    </xs:complexType>
                                </xs:element>
                            </xs:sequence>
                        </xs:complexType>
                    </xs:element>
                    <xs:element name="produzioneRiutilizzataInLuogo" minOccurs="0" type="basic:EmptyType">
                        <xs:annotation>comportano la produzione di materiali da scavo che saranno riutilizzati nello stesso luogo di produzione </xs:annotation>
                    </xs:element>
                    <xs:element name="soggettaNormativa" minOccurs="0" type="basic:EmptyType">
                        <xs:annotation>riguardano interventi di demolizione di edifici o altri manufatti preesistenti e producono rifiuti la cui 
                            gestione è disciplinata ai sensi della parte quarta del d.lgs. n. 152/ 2006</xs:annotation>
                    </xs:element>
                    <xs:element name="produzioneRifiuti" minOccurs="0" type="basic:EmptyType">
                        <xs:annotation>comportano la produzione di materiali da scavo che saranno gestiti dall’interessato come rifiuti</xs:annotation>
                    </xs:element>                    
                </xs:sequence>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>

    <!-- Reference suecommon:PrevenzioneIncendiType -->
    <xs:complexType name="PrevenzioneIncendiType">
        <xs:sequence>
            <xs:choice>
                <xs:element name="nonSoggettoPrevenzioneIncendi" minOccurs="0" type="basic:EmptyType">
                    <xs:annotation>non è soggetto alle norme di prevenzione incendi</xs:annotation>
                </xs:element>
                <xs:element name="soggettoPrevenzioneIncendi" minOccurs="0" type="basic:EmptyType">
                    <xs:annotation>è soggetto alle norme tecniche di prevenzione incendi e le stesse sono rispettate nel progetto</xs:annotation>
                </xs:element>
                <xs:element name="parzialeCoperturaPrevenzioneIncendi" minOccurs="0">
                    <xs:annotation>presenta caratteristiche tali da non consentire l’integrale osservanza delle regole tecniche di prevenzione incendi</xs:annotation>
                    <xs:complexType>
                        <xs:simpleContent>
                            <xs:annotation>si allega documentazione necessaria all’ottenimento della deroga</xs:annotation>
                            <xs:extension base="xs:string">
                                <xs:attribute type="xs:boolean" name="allegatoDocumentazioneDeroga"/>
                            </xs:extension>
                        </xs:simpleContent>
                    </xs:complexType>
                </xs:element>
            </xs:choice>
            <xs:choice>
                <xs:element name="nonSoggettoValutazioneProgetto" minOccurs="0" type="basic:EmptyType">
                    <xs:annotation>non è soggetto alla valutazione del progetto da parte del Comando Provinciale dei Vigili del Fuoco ai sensi del 
                        d.P.R. n. 151/2011</xs:annotation>
                </xs:element>                
                <xs:element name="soggettoValutazioneProgetto" minOccurs="0">
                    <xs:annotation>è soggetto alle norme tecniche di prevenzione incendi e le stesse sono rispettate nel progetto</xs:annotation>
                    <xs:complexType>
                        <xs:simpleContent>
                            <xs:annotation>si allega la documentazione necessaria alla valutazione del progetto</xs:annotation>
                            <xs:extension base="xs:string">
                                <xs:attribute type="xs:boolean" name="allegatoValutazioneProgetto"/>
                            </xs:extension>
                        </xs:simpleContent>
                    </xs:complexType>
                </xs:element>
                <xs:element name="varianteProgetto" minOccurs="0">
                    <xs:annotation>costituisce variante e il sottoscritto assevera che le modifiche non costituiscono variazione 
                        dei requisiti di sicurezza antincendio già approvati con parere del Comando Provinciale dei Vigili 
                        del fuoco rilasciato con prot. ______________  in data  |__|__|__|__|__|__|__|__|</xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="parereVigiliDelFuoco" type="aggregate:ProtocolloStandardType"/>
                        </xs:sequence>                      
                    </xs:complexType>
                </xs:element>                 
            </xs:choice>
        </xs:sequence>
    </xs:complexType>

    <!-- Reference suecommon:AmiantoType -->
    <xs:complexType name="AmiantoType">
        <xs:choice>
            <xs:element name="interessano" minOccurs="0" type="basic:EmptyType"/>
            <xs:element name="nonInteressano" minOccurs="0">
                <xs:complexType>
                    <xs:simpleContent>
                        <xs:extension base="xs:string">
                            <xs:attribute type="xs:boolean" name="allegato"/>
                        </xs:extension>
                    </xs:simpleContent>                   
                </xs:complexType>
            </xs:element>
        </xs:choice>
    </xs:complexType>

    <!-- Reference suecommon:ConformitaSanitariaType -->
    <xs:complexType name="ConformitaSanitariaBaseType" abstract="true"/>
    
    <xs:complexType name="ConformitaSanitariaType">
        <xs:complexContent>
            <xs:extension base="suecommon:ConformitaSanitariaBaseType">
                <xs:choice>
                    <xs:element name="conforme" minOccurs="0" type="basic:EmptyType"/>
                    <xs:element name="nonConforme" minOccurs="0">
                        <xs:complexType>
                            <xs:simpleContent>
                                <xs:extension base="xs:string">
                                    <xs:attribute type="xs:boolean" name="allegatoRichiestaDeroga"/>
                                </xs:extension>
                            </xs:simpleContent>                   
                        </xs:complexType>                       
                    </xs:element>
                </xs:choice>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>    

    <!-- Reference suecommon:InterventoZonaSismicaType -->
    <xs:complexType name="InterventoZonaSismicaBaseType" abstract="true"/>
    
    <xs:complexType name="InterventoZonaSismicaType">
        <xs:complexContent>
            <xs:extension base="suecommon:interventoZonaSismicaBaseType">
                <xs:sequence>
                    <xs:choice>
                        <xs:element name="nonPrevisteOpere" minOccurs="0" type="basic:EmptyType"/>
                        <xs:element name="previsteOpere" minOccurs="0">
                            <xs:annotation>prevede la realizzazione di opere di conglomerato cementizio armato, normale e precompresso ed a 
                                struttura metallica</xs:annotation>
                            <xs:complexType>
                                <xs:annotation>si allega la denuncia di cui all’articolo 65 del d.P.R. n. 380/2001</xs:annotation>
                                <xs:simpleContent>
                                    <xs:extension base="xs:string">
                                        <xs:attribute type="xs:boolean" name="allegatoDenuncia"/>
                                    </xs:extension>
                                </xs:simpleContent>                   
                            </xs:complexType>   
                        </xs:element>
                    </xs:choice>
                    <xs:choice>
                        <xs:element name="nonPrevisteOpereNormativaRegionale" minOccurs="0" type="basic:EmptyType"/>
                        <xs:element name="varianteSostanziale" minOccurs="0">
                            <xs:complexType>
                                <xs:sequence>
                                    <xs:element name="progettoEsecutivo" minOccurs="0" type="aggregate:ProtocolloStandardType"/>
                                </xs:sequence>
                            </xs:complexType>
                        </xs:element> 
                        <xs:element name="previsteOpereNormativaRegionale" minOccurs="0">
                            <xs:annotation>prevede opere in zona sismica da denunciare ai sensi dell’articolo 93 del d.P.R. n. 380/2001 
                                o della corrispondente normativa regionale</xs:annotation>
                            <xs:complexType>
                                <xs:annotation>si allega la denuncia di cui all’articolo 65 del d.P.R. n. 380/2001</xs:annotation>
                                <xs:simpleContent>
                                    <xs:extension base="xs:string">
                                        <xs:attribute type="xs:boolean" name="allegatoDenuncia"/>
                                    </xs:extension>
                                </xs:simpleContent>                   
                            </xs:complexType>                            
                        </xs:element> 
                        <xs:element name="previsteOpereStrutturali" minOccurs="0">
                            <xs:annotation>prevede opere strutturali soggette ad autorizzazione sismica ai sensi dell’articolo 94 del 
                                d.P.R. n. 380/2001 o della corrispondente normativa regional</xs:annotation>
                            <xs:complexType>
                                <xs:annotation>si allega la documentazione necessaria per il rilascio dell’autorizzazione sismica</xs:annotation>
                                <xs:simpleContent>
                                    <xs:extension base="xs:string">
                                        <xs:attribute type="xs:boolean" name="allegatoDocumentazioneAutorizzazione"/>
                                    </xs:extension>
                                </xs:simpleContent>                   
                            </xs:complexType>                            
                        </xs:element>                        
                    </xs:choice>
                </xs:sequence>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>    

    <!-- Reference suecommon:AutorizzazionePaesaggisticaType -->
    <xs:complexType name="AutorizzazionePaesaggisticaBaseType" abstract="true"/>
    
    <xs:complexType name="AutorizzazionePaesaggisticaType">
        <xs:complexContent>
            <xs:extension base="suecommon:AutorizzazionePaesaggisticaBaseType">
                <xs:choice>
                    <xs:element name="nonRicadeInZonaTutelata" minOccurs="0" type="basic:EmptyType"/>
                    <xs:element name="nonSoggettoAutorizzazione" minOccurs="0" type="basic:EmptyType">
                        <xs:annotation>ricade  in zona tutelata, ma le opere non comportano alterazione dei luoghi o dell’aspetto 
                            esteriore degli edifici ovvero non sono soggetti ad autorizzazione ai sensi dell’art. 149, d.lgs. 
                            n. 42/2004 e del d.P.R. n. 31/2017,  allegato A e art. 4</xs:annotation>
                    </xs:element>
                    <xs:element name="ricadeInZonaTutelata" minOccurs="0">
                        <xs:complexType>
                            <xs:choice>
                                <xs:element name="procedimentoSemplificato">
                                    <xs:annotation>è assoggettato al procedimento semplificato di autorizzazione paesaggistica, in quanto di lieve 
                                        entità, secondo quanto previsto dal d.P.R. n. 31/2017</xs:annotation>
                                    <xs:complexType>
                                        <xs:annotation>si allega la relazione paesaggistica semplificata e la documentazione necessaria ai fini 
                                            del rilascio dell’autorizzazione paesaggistica semplificata</xs:annotation>
                                        <xs:simpleContent>
                                            <xs:extension base="xs:string">
                                                <xs:attribute type="xs:boolean" name="allegatoRelazionePaesaggisticaSemplificata"/>
                                            </xs:extension>
                                        </xs:simpleContent>                   
                                    </xs:complexType>  
                                </xs:element>
                                <xs:element name="procedimentoOrdinario">
                                    <xs:annotation>è assoggettato al procedimento ordinario di autorizzazione paesaggistica</xs:annotation>
                                    <xs:complexType>
                                        <xs:annotation>si allega la relazione paesaggistica e la documentazione necessaria ai fini 
                                            del rilascio dell’autorizzazione paesaggistica</xs:annotation>
                                        <xs:simpleContent>
                                            <xs:extension base="xs:string">
                                                <xs:attribute type="xs:boolean" name="allegatoRelazionePaesaggistica"/>
                                            </xs:extension>
                                        </xs:simpleContent>                   
                                    </xs:complexType>  
                                </xs:element>                                
                            </xs:choice>
                        </xs:complexType>
                    </xs:element>
                </xs:choice>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>   

    <!-- Reference suecommon:AutorizzazioneSoprintendenzaType -->
    <xs:complexType name="AutorizzazioneSoprintendenzaType">
        <xs:choice>
            <xs:element name="nonSottopostoTutela" minOccurs="0" type="basic:EmptyType"/>
            <xs:element name="sottopostoTutela" minOccurs="0">
                <xs:complexType>
                    <xs:annotation>si allega la documentazione necessaria ai fini del rilascio del parere/nulla osta</xs:annotation>
                    <xs:simpleContent>
                        <xs:extension base="xs:string">
                            <xs:attribute type="xs:boolean" name="allegatoRilascioParere"/>
                        </xs:extension>
                    </xs:simpleContent>                   
                </xs:complexType>                
            </xs:element>
        </xs:choice>
    </xs:complexType>

    <!-- Reference suecommon:AreaProtettaType -->
    <xs:complexType name="AreaProtettaBaseType" abstract="true"/>
    
    <xs:complexType name="AreaProtettaType">
        <xs:complexContent>
            <xs:extension base="suecommon:AreaProtettaBaseType">
                <xs:choice>
                    <xs:element name="nonRicadeTutela" minOccurs="0" type="basic:EmptyType"/>
                    <xs:element name="ricadeTutela" minOccurs="0" type="basic:EmptyType"/>
                    <xs:element name="sottopostoDisposizioni" minOccurs="0">
                        <xs:annotation>è sottoposto alle relative disposizioni</xs:annotation>
                        <xs:complexType>
                            <xs:annotation>si allega la documentazione necessaria ai fini del rilascio del parere/nulla osta </xs:annotation>
                            <xs:simpleContent>
                                <xs:extension base="xs:string">
                                    <xs:attribute type="xs:boolean" name="allegatoRilascioParere"/>
                                </xs:extension>
                            </xs:simpleContent>                   
                        </xs:complexType>  
                    </xs:element>
                </xs:choice>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>

    <!-- ENUMERATION -->
    <xs:simpleType name="TitolaritaInterventoEnum">
        <xs:restriction base="xs:string">
            <xs:enumeration value="Titolare"/>
            <xs:enumeration value="NonTitolare"/>
        </xs:restriction>
    </xs:simpleType>
    
    <xs:simpleType name="OperePrevisteEnum">
        <xs:restriction base="xs:string">
            <xs:enumeration value="NoPartiComuni"/>
            <xs:enumeration value="PartiComuniCondominio"/>
            <xs:enumeration value="PartiComuniFabbricatoMultiProp"/>
            <xs:enumeration value="PartiComuniNoAssenso"/>
        </xs:restriction>
    </xs:simpleType>
    
    <xs:simpleType name="InterventiSoggettiACILAEnum">
        <xs:restriction base="xs:string">
            <xs:enumeration value="NoAttoAssenso"/>
            <xs:enumeration value="ConAllegatiCila"/>
            <xs:enumeration value="ContestualeAttoAssensoAllegatoCila"/>
        </xs:restriction>
    </xs:simpleType>
  
</xs:schema>